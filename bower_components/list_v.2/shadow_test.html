<html>
<head>
    <!--<script src="webcomponents.js"></script>-->
</head>
<body>
<h2> Webcomponents - 쉐도우 DOM</h2>


<div id="nameTag">Bob</div>



<template id="nameTagTemplate">
    <span>templte_node</span>
    <script>
    alert('temp_node load');
    </script>
</template>

<div id="sct_node">
   
    <script>
    alert('sct_node load');
    </script>
    
    <span>sct_node</span>
</div>



<script>

// 1. body =:= template 
// var shadow = document.querySelector('#nameTag').createShadowRoot();
// var template = document.querySelector('#nameTagTemplate');
// var clone = document.importNode(template.content, true);
// shadow.appendChild(clone);


// 2. body =:= innerHTML
// var shadow = document.querySelector('#nameTag').createShadowRoot();
// shadow.innerHTML = '<span>innter</span>';

// 3. body =:= elem 일반
// var shadow = document.querySelector('#nameTag').createShadowRoot();
// var elem = document.querySelector('#sct_node');
// var clone = elem.cloneNode(true);
// shadow.appendChild(clone);   // 이동 개념

// 3-2 동적 요소 생성
// var shadow = document.querySelector('#nameTag').createShadowRoot();
// var elem = document.createElement('script');
// elem.innerText = 'alert("inner sct_node");';
// shadow.appendChild(elem);   // 이동 개념

// 4. 쉐도우에 서크텀 붙이기
// 커스텀 요소
var XFooProto = Object.create(HTMLElement.prototype); 
XFooProto.createdCallback = function() { 
    this.innerHTML = "I'm an x-foo-mark!  보여~"; 
}; 
var XFoo = document.registerElement('x-foo-mark', {prototype: XFooProto}); 
// 쉐도우에 붙이기
var shadow = document.querySelector('#nameTag').createShadowRoot();
var elem = document.createElement('x-foo-mark');
shadow.appendChild(elem);  

</script>


</body>
</html>