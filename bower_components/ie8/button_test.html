<!DOCTYPE html>
<html>
  <head>
    <title>Modern DOM</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

<script>
// (function (g) {'use strict';

//   var loadingLeafLet = false;

//   document.registerElement('x-map', {
//     'extends': 'img',
//     prototype: Object.create(
//       HTMLImageElement.prototype,{
//         createdCallback: {
//           value: function () {
//           }
//         },
//       }
//     )
//   });
// }(window));  
</script>

<script>
(function (g) {'use strict';

  document.registerElement('my-button', {
      'extends': 'button',
      prototype: Object.create(
        HTMLButtonElement.prototype, {
        createdCallback: {
          value: function() {
            this.textContent = 'button..';
            this.innerHTML = 'button...s';
            this.onclick = kkk; 
          
          }
        }
      }
    )
  });

  function kkk(){
    alert('kkk ');
  }
}(window));
</script>

<script>
// (function (g) {'use strict';

//   document.registerElement('x-foo', {
//       'extends': 'button',
//       prototype: Object.create(
//         HTMLButtonElement.prototype, {
//         createdCallback: {
//           value: function() {
//             this.textContent = 'button..';
//             this.innerHTML = 'button...s';
//             this.onclick = kkk;
//           }
//         }
//       }
//     )
//   });

//   function kkk(){
//     alert('kkk ');
//   }
// }(window));
</script>

<script>
(function (g) {
  'use strict';
  var XFooPrototype = Object.create(HTMLButtonElement.prototype);
  XFooPrototype.createdCallback = function() {
    // this.textContent = " ParentI'm an x-foo!";
    this.parents = "부모";
    this.innerHTML = " ParentI'm an x-foo!";
    this.foo();
    
  };
  // XFooPrototype.kkk = "KKK";    
  XFooPrototype.foo = function() {
    console.log('foo1() called');
  };

  var XFoo = document.registerElement('x-xx', {
      'extends': 'button',
    prototype: XFooPrototype
  });
  // document.body.appendChild(new XFoo()); 
  // g["XFooPrototype"] = XFooPrototype;
  g.XFooPrototypes = XFooPrototype;
  g.XFoos = XFoo;

}(window));
</script>

<script>
(function (g) {
  'use strict';
  // var XFooPrototype = Object.create(HTMLElement.prototype);
  var XFooPrototype = Object.create(XFooPrototypes);
  // var XFooPrototype = Object.create(XFoos);

  XFooPrototype.createdCallback = function() {
    // this.textContent =  "I'm an x-foo!!";
    this.innerHTML = " Child x-foo!";
    this.foo(); 

  };
      
  // XFooPrototype.foo = function() {
  //   console.log('foo2() called');
  // };

  var XFoo = document.registerElement('x-xx-foo', {
     //'extends': 'my-button',
        
        // prototype: XFooPrototypes,
        'extends': 'button',
      prototype: XFooPrototype

  });

}(window));
</script>

  </head>
  <body>
    <p>
      There should be a "button" text inside the button.
    </p>
    <!--<img
      is="x-map"
      title="Eerikinkatu 11, 00100 Helsinki &amp; Glo Hotel, Kluuvikatu 4, 00100 Helsinki"
      src="http://staticmap.openstreetmap.de/staticmap.php?markers=60.1667014,24.9334943,lightblue1|60.168317,24.947308,lightblue1&amp;center=60.168,24.939&amp;zoom=14&amp;size=446x210"
    >-->

    <button is="my-button"></button>

    <my-button>aaa</button>

    <button is="x-xx">x</button>

    <button is="x-xx-foo">x</button>

    <x-xx> (x-OUT)</x-xx>

    <x-xx-foo> (OUT)</x-xx-foo>

  </body>
</html>